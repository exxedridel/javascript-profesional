<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <a href="/ejercicios/">Go back</a>
    <p><em>Abre la consola</em></p>
    <p>
      Currying es un proceso en programación funcional en el cuál podemos
      transformar una función con multiples argumentos en una secuencia de
      funciones anidadas, retorna una nueva función que espera el nuevo
      argumento en la lista.
    </p>

    <ul>
      <li><button class="call-to-action">Aprender</button></li>
      <li><button class="call-to-action">Aprender Mas</button></li>
      <li><button class="call-to-action">Nunca parar de Aprender!</button></li>
    </ul>

    <script>
      // Establece 'this usando 'call'
      function saludar() {
        console.log(`Hola, Soy ${this.name} ${this.apellido}`);
      }

      const richard = {
        name: "Richard",
        apellido: "Kaufman López",
      };

      saludar.call(richard);

      // Establece 'this' usando 'call'  y pasar argumento a la funcion
      function caminar(metros, direccion) {
        console.log(
          `${this.name} camina ${metros} metros hacia el ${direccion}.`
        );
      }
      // .call trae el contexto de this de la funcion
      caminar.call(richard, 400, "norte");

      // Establece 'this' usando 'apply' y pasar argumentos a la funcion
      const valores = [800, "noroeste"];
      caminar.apply(richard, [802, "noreste"]);
      /*
            Call de "Comma"
            Apply de "Array"
         */
      // Establece 'this' en una nueva funcion usando 'bind'
      const daniel = { name: "Daniel", apellido: "Sanchez" };
      const danielSaluda = saludar.bind(daniel);
      danielSaluda();

      const danielCamina = caminar.bind(daniel); // o tmb se pueden pasar desde aca metros y/o direccion
      danielCamina(1000, "este");

      // Cuando es util usar uno de estos metodos
      const buttons = document.getElementsByClassName("call-to-action");
      // buttons.forEach((button) => {
      //   button.onClick = () => alert("Nunca pares de aprender!");
      // }); //tipos 'NodeList' no tienen forEach directo, entonces..

      Array.prototype.forEach.call(buttons, (button) => {
        button.onclick = () => alert("Nunca pares de aprender!");
      }); // solamente se llama al método forEach con un contexto diferente que se pasa cómo parámetro, en este caso el contexto del button.
    </script>
  </body>
</html>
